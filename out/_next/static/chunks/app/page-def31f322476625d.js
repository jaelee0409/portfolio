(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4903:function(e,t,r){Promise.resolve().then(r.bind(r,161))},161:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var o=r(7437),n=r(6376),s=r(2265),i=r(7996),a=r(9631),c=r(841),l=r(290),u=r(2502),p=r(4579),h=r(7988),m=r(1184),d=r(9729),x=r(9979),j=r.n(x);let f=e=>{let{images:t}=e;return(0,o.jsxs)(a.Xz,{dpr:[1,1.5],camera:{fov:70,position:[0,2,15]},children:[(0,o.jsx)("color",{attach:"background",args:["#191920"]}),(0,o.jsx)("fog",{attach:"fog",args:["#191920",0,15]}),(0,o.jsxs)("group",{position:[0,-.5,0],children:[(0,o.jsx)(g,{images:t}),(0,o.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,o.jsx)("planeGeometry",{args:[50,50]}),(0,o.jsx)(l.Q,{blur:[300,100],resolution:2048,mixBlur:1,mixStrength:80,roughness:1,depthScale:1.2,minDepthThreshold:.4,maxDepthThreshold:1.4,color:"#050505",metalness:.5})]})]}),(0,o.jsx)(u.qA,{preset:"city"})]})};function g(e){let{images:t,q:r=new n.Quaternion,p:a=new n.Vector3}=e,l=(0,s.useRef)(),u=(0,s.useRef)(),[,p]=(0,i.yj)("/:id"),[,h]=(0,i.TH)();return(0,s.useEffect)(()=>{u.current=l.current.getObjectByName(null==p?void 0:p.id),u.current?(u.current.parent.updateWorldMatrix(!0,!0),u.current.parent.localToWorld(a.set(0,.809016994375,1.25)),u.current.parent.getWorldQuaternion(r)):(a.set(0,0,5.5),r.identity())}),(0,c.C)((e,t)=>{d.Ui.damp3(e.camera.position,a,.4,t),d.Ui.dampQ(e.camera.quaternion,r,.4,t)}),(0,o.jsx)("group",{ref:l,onClick:e=>(e.stopPropagation(),h(u.current===e.object?"/":"/"+e.object.name)),onPointerMissed:()=>h("/"),children:t.map(e=>(0,o.jsx)(y,{...e},e.url))})}function y(e){let{url:t,c:r=new n.Color,...a}=e,l=(0,s.useRef)(),u=(0,s.useRef)(),[,x]=(0,i.yj)("/item/:id"),[f,g]=(0,s.useState)(!1),[y]=(0,s.useState)(()=>Math.random()),b=j()(t),M=(null==x?void 0:x.id)===b;return(0,p.j)(f),(0,c.C)((e,t)=>{l.current.material.zoom=1.5+Math.sin(1e4*y+e.clock.elapsedTime/3)/2,d.Ui.damp3(l.current.scale,[.85*(!M&&f?.85:1),.9*(!M&&f?.905:1),1],.1,t),d.Ui.dampC(u.current.material.color,f?"#050505":"#151515",.1,t)}),(0,o.jsxs)("group",{...a,children:[(0,o.jsxs)("mesh",{name:b,onPointerOver:e=>(e.stopPropagation(),g(!0)),onPointerOut:()=>g(!1),scale:[1,1.61803398875,.05],position:[0,.809016994375,0],children:[(0,o.jsx)("boxGeometry",{}),(0,o.jsx)("meshStandardMaterial",{color:"#151515",metalness:.5,roughness:.5,envMapIntensity:2}),(0,o.jsxs)("mesh",{ref:u,raycast:()=>null,scale:[.9,.93,.9],position:[0,0,.2],children:[(0,o.jsx)("boxGeometry",{}),(0,o.jsx)("meshBasicMaterial",{toneMapped:!1,fog:!1})]}),(0,o.jsx)(h.E,{raycast:()=>null,ref:l,position:[0,0,.7],url:t})]}),(0,o.jsx)(m.x,{maxWidth:.1,anchorX:"left",anchorY:"top",position:[.55,1.61803398875,0],fontSize:.025,children:b.split("-").join(" ")})]})}function b(){return(0,o.jsx)(f,{images:[{position:[-.8,0,-.6],rotation:[0,0,0],url:"https://images.pexels.com/photos/5665104/pexels-photo-5665104.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{position:[.8,0,-.6],rotation:[0,0,0],url:"https://images.pexels.com/photos/7911758/pexels-photo-7911758.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}]})}}},function(e){e.O(0,[689,186,971,69,744],function(){return e(e.s=4903)}),_N_E=e.O()}]);